
<div class="span12 background">
  <section>
    <h2>{{title}}</h2>
    <hr/>
    
    <ul class="nav nav-tabs">
      <li><a href="#ongoing-orders" data-toggle="tab">Ongoing orders</a></li>
      <li><a href="#completed-orders" data-toggle="tab">Completed orders</a></li>
    </ul>
    <div class="tab-content">
      <ul class="nav nav-tabs tab-pane" id="ongoing-orders">
        <li ng-repeat="order in ongoingOrders()"><a href="#{{order._id}}" data-toggle="tab">Order # <strong>{{order.orderId}}</strong></a></li>      
      </ul>
      <ul class="nav nav-tabs tab-pane"id="completed-orders">
        <li ng-repeat="order in finishedOrders()"><a href="#{{order._id}}" data-toggle="tab">Order # <strong>{{order.orderId}}</strong></a></li>      
      </ul>
    </div>
    
    
    <div class="tab-content">
      <div ng-repeat="order in orders" id="{{order._id}}" class="tab-pane">
        <h3>Order # {{order.orderId}}</h3>
        <label>Order date: <strong>{{order.date}}</strong></label>
        <label>Supplier name: <strong>{{order.supplier.name}}</strong></label>
      
        <table class="table">
            <tr>
                <th style="width:50px;">#</th>
                <th>Product</th>
                <th style="width:85px;">Quantity</th>
                <th style="width:115px;">Price per unit</th>
                <th style="width:75px; text-align: right;">Price</th>
                <th style="width:50px;"></th>
            </tr>
            <tr ng-repeat="stock in order.items" class="" ng-class="{'success': stock.mouseOver || stock.received}">
                <td>{{stock.order}}</td>
                <td>{{stock.product}}</td>
                <td>{{stock.quantity}}</td>
                <td><span class="pull-right">{{stock.priceperunit | currency:company.currency }}</span></td>
                <td><span class="pull-right">{{price(stock) | currency:company.currency }}</span></td>
                <td>
                    <i ng-hide="stock.received" class="icon-ok lead" style="cursor: pointer;" ng-click="mouseClicked(stock)" 
                       ng-class="{'text-success' : stock.mouseOver || stock.received, 'muted': !stock.mouseOver}" 
                       ng-mouseover="mouseOver(stock)" ng-mouseleave="mouseExit(stock)"></i>
                    <i ng-hide="!stock.received" class="icon-minus lead" style="cursor:pointer;" ng-click="mouseClickedRemove(stock)" 
                       ng-mouseover="mouseOver(stock)" ng-mouseleave="mouseExit(stock)"
                       ng-class="{'text-error' : stock.mouseOver, 'muted': !stock.mouseOver}" ></i>     
                    <i class="icon-remove lead pull-right" style="height:4px; cursor: pointer;" ng-click="deleteStock(stock)"></i>  
                </td>
            </tr>
            <tr>
                <th colspan="4">Total price</th>
                <th><span class="pull-right">{{totalPriceAll(order) | currency:company.currency }}</span></th>
                <th></th>
            </tr>
        </table>
        <hr/>
        <button class="btn btn-danger">Not received (Delete)</button>
        <button class="btn btn-success pull-right" ng-click="finishOrder(order)">Finish</button>
      </div>
    </div>
            
    <datalist id="products">
        <option ng-repeat="product in products | orderBy:'name'" value="{{product.name}} - ({{product.unit}} {{product.unitName}})">
    </datalist>
  </section>
</div>